{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Constants from 'expo-constants';\nimport Calendar from \"./components/Calendar.js\";\nimport FirstRdv from \"./components/FirstRdv.js\";\nimport DropDown from \"./components/DropDown.js\";\nimport getAgenda, { defaultQueryArgs } from \"./network/calendarAPI\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _React$useState = React.useState([{\n    \"dayOfTheWeek\": \"\",\n    \"day\": \"\",\n    \"timeIntervals\": ['']\n  }]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      useAgenda = _React$useState2[0],\n      setAgenda = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      useSelectedTime = _React$useState4[0],\n      setSelectedTime = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      useMsg = _React$useState6[0],\n      setMsg = _React$useState6[1];\n\n  var createAppointmentMsg = function createAppointmentMsg() {\n    setMsg(\"Appointment booked for \" + useSelectedTime);\n  };\n\n  var _React$useState7 = React.useState('cultural'),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      useReason = _React$useState8[0],\n      setReason = _React$useState8[1];\n\n  var _React$useState9 = React.useState(true),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      useFirstRdv = _React$useState10[0],\n      setFirstRdv = _React$useState10[1];\n\n  console.log(defaultQueryArgs);\n  var motiveIdDict2 = {\n    'technical': '61eea350ddf6c500149ae2cb',\n    'cultural': '61eea367ddf6c500149ae2cc',\n    'introduction': '61379ba159d4940022b6c929'\n  };\n\n  var setQuery = function setQuery(defaultQueryArgs, whatever, useFirstRdv) {\n    console.log(motiveIdDict2['technical']);\n  };\n\n  setQuery();\n  React.useEffect(function () {\n    getAgenda(defaultQueryArgs).then(function (response) {\n      setAgenda(response);\n      console.log(response);\n    });\n  }, []);\n  return _jsx(View, {\n    style: styles.bigContainer,\n    children: _jsxs(View, {\n      style: styles.smallContainer,\n      children: [_jsx(View, {\n        children: _jsx(Text, {\n          children: \" Find availability \"\n        })\n      }), _jsx(FirstRdv, {\n        useState: [useFirstRdv, setFirstRdv]\n      }), _jsx(View, {\n        children: _jsx(DropDown, {\n          useState: [useReason, setReason]\n        })\n      }), _jsx(Calendar, {\n        data: useAgenda,\n        setTime: setSelectedTime\n      }), _jsx(View, {\n        children: _jsx(Button, {\n          title: 'Book Appointment',\n          onPress: function onPress() {\n            return createAppointmentMsg();\n          }\n        })\n      }), _jsx(View, {\n        children: _jsxs(Text, {\n          children: [\" \", useMsg, \" \"]\n        })\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  bigContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#FCF7F2',\n    padding: 8\n  },\n  smallContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#FFFFFF',\n    padding: 8\n  }\n});","map":{"version":3,"sources":["/Users/aymericdelabrousse/Documents/git/nx_expo/rosa-nx-expo-workspace/apps/patient-staging-expo/App.tsx"],"names":["React","Constants","Calendar","FirstRdv","DropDown","getAgenda","defaultQueryArgs","App","useState","useAgenda","setAgenda","useSelectedTime","setSelectedTime","useMsg","setMsg","createAppointmentMsg","useReason","setReason","useFirstRdv","setFirstRdv","console","log","motiveIdDict2","setQuery","whatever","useEffect","then","response","styles","bigContainer","smallContainer","StyleSheet","create","flex","justifyContent","alignItems","paddingTop","statusBarHeight","backgroundColor","padding"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Text, View, StyleSheet, Button } from 'react-native';\nimport { useSetState } from 'react-use';\nimport Constants from 'expo-constants';\n\n// or any pure javascript modules available in npm\nimport Calendar from './components/Calendar.js'\nimport FirstRdv from './components/FirstRdv.js';\nimport DropDown from './components/DropDown.js';\n\nimport getAgenda, {defaultQueryArgs, motiveIdDict} from './network/calendarAPI'\n\n    \n//// dummy data\n//let data=[\n    //{\"dayOfTheWeek\": \"MA\", \"day\": \"fevr. 08\", \"timeIntervals\": ['-', '-', '-', '17h30']}, \n    //{\"dayOfTheWeek\": \"ME\", \"day\": \"fevr 09\",  \"timeIntervals\": ['9h00', '-', '-', '-']}, \n    //{\"dayOfTheWeek\": \"JE\", \"day\": \"fevr. 10\", \"timeIntervals\": ['-', '15h30', '-', '-']}\n    //];\n\nexport default function App() {\n\n    // use state to define getter and setter for calendar data\n    const [useAgenda, setAgenda] = React.useState([{\"dayOfTheWeek\": \"\", \"day\": \"\", \"timeIntervals\": ['']}])\n\n    // use state to define and use selected time by the user\n    const [useSelectedTime, setSelectedTime] = React.useState('')\n\n    // message to display\n    const [useMsg, setMsg] = React.useState('')\n\n    // callback when user is confirming time of appointment\n    const createAppointmentMsg = () => {\n        setMsg(`Appointment booked for ${useSelectedTime}`)\n    }\n\n    // define and use the query based on the user inputs\n    const [useReason, setReason] = React.useState('cultural'); \n    const [useFirstRdv, setFirstRdv] = React.useState(true);\n    console.log(defaultQueryArgs);\n\n    const motiveIdDict2 = {\n        'technical' : '61eea350ddf6c500149ae2cb',\n        'cultural' : '61eea367ddf6c500149ae2cc',\n        'introduction' : '61379ba159d4940022b6c929',\n    }\n    //const setQuery\n    const setQuery = (defaultQueryArgs: any, whatever: any, useFirstRdv: any) => {\n      //defaultQueryArgs['is_new_patient'] = useFirstRdv;\n      //defaultQueryArgs['motive_id'] = motiveIdDict2[whatever];\n      console.log(motiveIdDict2['technical']);\n      //return motiveIdDict2[whatever];\n    }\n    setQuery()\n\n    // use effect to avoid calling api at each render \n    React.useEffect(() => {\n      //setAgenda(data)\n      getAgenda(defaultQueryArgs).then((response: any) => {setAgenda(response); console.log(response)})\n    }, []);\n\n  return (\n    <View style={styles.bigContainer}>\n      <View style={styles.smallContainer}>\n        <View>\n          <Text> Find availability </Text>\n        </View> \n        <FirstRdv useState={[useFirstRdv, setFirstRdv]}></FirstRdv>\n        <View>\n          <DropDown useState={[useReason, setReason]}></DropDown>\n        </View> \n        <Calendar data={useAgenda} setTime={setSelectedTime}></Calendar>\n        <View>\n          <Button title={'Book Appointment'} onPress={() => createAppointmentMsg()}/>\n        </View>\n        <View>\n          <Text> {useMsg} </Text>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  bigContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#FCF7F2',\n    padding: 8,\n  },\n  smallContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#FFFFFF',\n    padding: 8,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}